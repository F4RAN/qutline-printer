<!DOCTYPE html>
<html>
<head>
  <title>WiFi Manager</title>
</head>
<body>

  <h1>WiFi Manager</h1>

  <button id="get-status">Get Status</button>
  <button id="set-wifi">Set WiFi</button>
  <button id="connect">Connect</button>
  <button id="scan">Scan</button>
  <button id="update">Update</button>

  <div id="status"></div>

  <script>
    // Update
      document.getElementById("scan").addEventListener("click", () => {
      fetch("http://127.0.0.1:8080/update-project", {
        method: "POST",
        .then(data => {
          document.getElementById("status").innerHTML = JSON.stringify(data)
        })
      })
    })
    // Get status
    document.getElementById("get-status").addEventListener("click", () => {
      fetch("http://127.0.0.1:8080/status")
        .then(res => res.json())
        .then(data => {
          document.getElementById("status").innerHTML = JSON.stringify(data)
        })
    })

    // Set WiFi
    document.getElementById("set-wifi").addEventListener("click", () => {
      fetch("http://127.0.0.1:8080/set_wifi", {
        method: "POST",
        body: JSON.stringify({
          ssid: "mywifi",
          password: "secret123"
        }).then(res => res.json())
        .then(data => {
          document.getElementById("status").innerHTML = JSON.stringify(data)
        })
      })
    })

    // Connect
    document.getElementById("connect").addEventListener("click", () => {
      fetch("http://127.0.0.1:8080/connect_wifi/0C:7F:ED:C0:E0:4B", {
        method: "POST"
      }).then(res => res.json())
        .then(data => {
          document.getElementById("status").innerHTML = JSON.stringify(data)
        })
    })

    // Scan
    document.getElementById("scan").addEventListener("click", () => {
      fetch("http://127.0.0.1:8080/scan", {
        method: "POST"
      }).then(res => res.json())
        .then(data => {
          document.getElementById("status").innerHTML = JSON.stringify(data)
        })
    })
  </script>

</body>
</html>